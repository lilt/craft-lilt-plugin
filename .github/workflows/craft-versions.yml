name: Tests on multiple craft versions
on:
  push:
    branches:
      - 1.x #CraftCMS v3 | PHP 7.2
      - 2.x #CraftCMS v4 | PHP 8.0.2
  pull_request:
    branches:
      - "*"
jobs:
  tests-craft-versions-1:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Test craft versions 3.7.0 - 3.7.8
        run: make test-craft-versions-1

  tests-craft-versions-2:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Test craft versions 3.7.9 - 3.7.17.1
        run: make test-craft-versions-2

  tests-craft-versions-3:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Test craft versions 3.7.17.2 - 3.7.23
        run: make test-craft-versions-3

  tests-craft-versions-4:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Test craft versions 3.7.24 - 3.7.30
        run: make test-craft-versions-4

  tests-craft-versions-5:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Test craft versions 3.7.30.1 - 3.7.39
        run: make test-craft-versions-4

  tests-craft-versions-6:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Test craft versions 3.7.40 - 3.7.44
        run: make test-craft-versions-4
